# SR Web Crawling Project

## 프로젝트 개요
증권사 리서치 리포트를 자동으로 수집하고,
목표주가·투자의견 데이터를 추출하여 실제 주가와 비교

## 주요 기능
- 종목명과 수집 기간을 입력
- 입력받은 네이버 증권 리포트 크롤링 (종목명, 제목, 증권사, 작성일, PDF 링크 수집)
- 리포트 본문에서 목표주가 및 투자의견 추출
- 리포트 데이터와 실제 주가 데이터 매칭
- 목표주가 오차율 계산 -> 이 때 EWM 오차율을 사용

### EWM 오차율 (Exponentially Weighted Mean Error)

정의: 리포트 발표일이 가까울수록 더 큰 가중치를 주는 방식으로, 증권사 목표주가의 예측 오차율을 계산한 지표
이유: 오래된 리포트보다는 최신 리포트가 더 신뢰도가 높다고 판단하여, 최근 데이터를 강조
계산 방식:
기본 오차율 = (목표가 − 실제 주가) ÷ 실제 주가 × 100

여기에 시간 반감기(halflife) 90일을 적용하여, 시간이 지날수록 영향력이 절반으로 줄어들도록 가중 평균을 적용

해석:
값이 낮을수록 최근 리포트 기준으로 실제 주가와의 차이가 적다는 뜻 → 해당 증권사의 예측력이 높다고 볼 수 있음

## 종목 및 기간
- 카카오, 셀트리온, SK하이닉스
- 20230701~20240731 을 기간으로 설정함

# 결과 해석

### 카카오
전반적 경향: 카카오 리포트는 평균 오차율이 비교적 높은 편 (대부분 40~80% 이상)
상대적으로 정확한 증권사
- 평균 오차율 기준: 신한투자증권(42%), 하나증권(44%), 하이투자증권(43%)
- EWM 기준: 하이투자증권(24.5%), 하나증권(34.9%)

예측력이 낮은 증권사
- 메리츠증권, 이베스트증권, 미래에셋증권 → 90% 이상 오차율 기록

### 셀트리온
- SK증권이 두 지표(평균 오차율, EWM 오차율) 모두에서 가장 낮아 셀트리온 리포트 예측력이 상대적으로 우수한 것으로 보임.
- 대신증권, 교보증권은 평균과 EWM 기준 모두 꾸준히 상위권을 유지, 일관성 있는 성과를 보여줌.
- 하나증권은 평균 오차율도 다소 높고(EWM에서도 중상위), 상대적으로 예측력이 떨어지는 것으로 해석 가능.
- 전반적으로 상위권📌 프로젝트 의의와 한계점

### sk하이닉스
SK하이닉스는 미래에셋·대신·한화의 예측력이 두드러짐. (EWM에서도 안정적인 상위권)
평균 오차율이 ±10% 이내인 증권사들이 많아 전반적으로 예측 정확도가 양호.
다만 일부 증권사(예: 이베스트, 메리츠)는 극단적으로 높은 오차율을 기록 → 신뢰도 편차 존재

# 프로젝트 의의 및 한계

### 의의
1. 리서치 리포트 vs 실제 주가 비교


2. 크롤링(crawler.py)으로 리포트를 자동 수집하고, Jupyter Notebook에서 분석까지 이어지는 재현 가능한 워크플로우를 구현.
- 다양한 기업(카카오, 셀트리온, SK하이닉스 등)에 동일한 구조를 적용하여 확장 가능성을 보여줌.

3.가중치 기반 분석(EWM)
최신 리포트에 더 높은 가중치를 두는 EWM(Exponentially Weighted Mean) 분석을 적용, 단순 평균보다 시장의 단기 반응을 더 잘 반영.

4.투자 의사결정에 시사점
증권사 성과 비교를 통해 어떤 증권사가 특정 종목에서 강점이 있는지 확인할 수 있음.

### 한계점
1. 단순 지표화의 한계
목표주가/실제주가의 차이를 단순 오차율로 측정 → 애널리스트의 정성적 의견(투자의견, 산업 분석)은 반영하지 못함.
